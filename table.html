<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
  <!-- ios support -->
  <link rel="apple-touch-icon" href="images/icons/icon-72x72.png">
  <link rel="apple-touch-icon" href="images/icons/icon-96x96.png">
  <link rel="apple-touch-icon" href="images/icons/icon-128x128.png">
  <link rel="apple-touch-icon" href="images/icons/icon-144x144.png">
  <link rel="apple-touch-icon" href="images/icons/icon-152x152.png">
  <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
  <link rel="apple-touch-icon" href="images/icons/icon-384x384.png">
  <link rel="apple-touch-icon" href="images/icons/icon-512x512.png">
  <meta name="apple-mobile-web-app-status-bar" content="#db4938">
  <meta name="theme-color" content="#db4938">
  <title>MoAn</title>
</head>

<body>
  <main>
    <br>


     <table>
         <tr>
           <th>Description</th>
           <th>Date</th>
           <th>Category</th>
           <th>Amount</th>
         </tr>
         <tr>
           <form id="eingabe" action="#" onsubmit="saveData();return false">
           <td><input id="descrition" name="descrition"></td>
           <td><input type="date"></td>
           <td><input id="category" name="category"></td>
           <td><input id="amount" name="amount"></td>
           <input type="submit" value="Submit Form" />
          </form>
         </tr>
      </table>




   <button type="button" onclick="loadDataFromStorage()">Load Data from Storage</button>
   <script>
     const form = document.getElementById('eingabe')
     //form.addEventListener('button', saveData)

     function saveData() {
       const desc = document.getElementById('desc').value
       const date = document.getElementById('date').value
       const cat = document.getElementById('cat').value
       const number = document.getElementById('value').value
       // console.log(desc)
       const test = true

       try {
         // const dataFromStorage = JSON.parse(window.localStorage.getItem('dataInStorage'))
         // Test wihtout localStorage
         let dataLoad = [
           ['ToDoSoemthing','2021-11-11','Work', 900],
           ['adsfd','2021-12-11','Work', 800]
         ];
         dataLoad.push([desc, date, cat, number])
         console.table(dataLoad)
         // window.localStorage.removeItem('dataFromStorage');
         window.localStorage.setItem('dataInStorage', JSON.stringify(dataLoad))


       } catch (e) {
         console.log(e)

       }

       // if (!test) {
       //   const dataLoad = [
       //     [desc,date,cat,number]
       //   ]
       //   dataLoad.push([desc,date,cat,number])
       //   console.log("hat geklappt")
       //   console.table(dataLoad)
       //   window.localStorage.setItem('dataInStorage', JSON.stringify(dataLoad))
       // }

     }

     function loadDataFromStorage() {
       try {
         const loadedData = JSON.parse(window.localStorage.getItem('dataInStorage'));
         console.table(loadedData);
       } catch (e) {
         console.log(e);
       }

     }
   </script>
   <div class="container"></div>

  </main>
  <script src="js/app.js"></script>
</body>

</html>
